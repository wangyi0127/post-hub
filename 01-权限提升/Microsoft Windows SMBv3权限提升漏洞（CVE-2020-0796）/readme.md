# 0x00 软件介绍
SMB：Windows下常用的文件共享的协议

# 0x01 复现环境
使用环境：本地搭建的环境  
复现版本：无

# 0x02 环境搭建
靶机环境：windows 10

# 0x03 利用条件
无

# 0x04 影响版本
Windows  10 Version 1903 for 32-bit Systems  
Windows  10 Version 1903 for ARM64-based Systems  
Windows  10 Version 1903 for x64-based Systems  
Windows  10 Version 1909 for 32-bit Systems  
Windows  10 Version 1909 for ARM64-based Systems  
Windows  10 Version 1909 for x64-based Systems  
Windows  Server, version 1903 (Server Core installation)  
Windows  Server, version 1909 (Server Core installation)

# 0x05 漏洞复现
攻击环境：windows 10

执行“cve-2020-0796-local提权工具.exe”后，会以管理员权限弹出命令提示符窗口，如下图  
![image](./0.png)

# 0x06 踩坑记录
坑1：  
复现失败原因：可能禁用了SMB 3.1的压缩功能  
解决办法(启用SMB 3.1的压缩功能）：  
以管理员方式运行 Powershell，执行如下命令：  
```
Set-ItemProperty -Path "HKLM:\SYSTEM\CurrentControlSet\Services\LanmanServer\Parameters" DisableCompression -Type DWORD -Value 0 -Force
```
-Value的值改为1禁用

# 0x07 参考链接
无
